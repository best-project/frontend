(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t,n){e.exports=n.p+"static/media/loginIcon.b0b934dd.svg"},221:function(e,t,n){e.exports=n(431)},431:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(6),c=n.n(i),l=(n(226),n(14)),o=n(15);function u(){var e=Object(l.a)(["\n    * {\n        box-sizing: border-box;\n    }\n"]);return u=function(){return e},e}var s=Object(o.a)(u()),m=n(433);function d(){var e=Object(l.a)(["\n    cursor: pointer;\n    text-decoration: underline;\n"]);return d=function(){return e},e}function f(){var e=Object(l.a)(["\n    margin: 0.2rem 0;\n    text-align: center;\n"]);return f=function(){return e},e}function p(){var e=Object(l.a)(["\n    margin: 1rem 0;\n    text-align: center;\n    font-size: 22px;\n"]);return p=function(){return e},e}function b(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    padding: 30px;\n    margin-bottom: 20px;\n    width: 330px;\n    background: white;\n    border-radius: 3px;\n    @media only screen and (min-width: 576px) {\n        width: 400px;\n    }\n"]);return b=function(){return e},e}function h(){var e=Object(l.a)(["\n    @media only screen and (min-width: 1075px) {\n        flex-direction: row;\n    }\n"]);return h=function(){return e},e}function g(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    background-image: radial-gradient(circle, rgba(63, 94, 251, 1) 0%, rgba(28, 68, 131, 1) 100%);\n"]);return g=function(){return e},e}function v(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    @media only screen and (min-width: 1075px) {\n        margin-right: 125px;\n    }\n"]);return v=function(){return e},e}function E(){var e=Object(l.a)(["\n    width: 500px;\n    margin: 1.25rem 0 0;\n    display: none;\n    @media only screen and (min-width: 1075px) {\n        display: block;\n    }\n"]);return E=function(){return e},e}function O(){var e=Object(l.a)(["\n    width: 75%;\n    margin-left: auto;\n    margin-right: auto;\n    padding-bottom: 60px;\n    background-color: white;\n    min-height: 100%;\n    text-align: center;\n    display: flex;\n    align-items: stretch;\n"]);return O=function(){return e},e}Object(o.b)(m.a)(O());var y=o.b.img(E()),j=o.b.div(v()),w=o.b.div(g()),S=Object(o.b)(w)(h()),x=o.b.div(b()),k=o.b.p(p()),C=o.b.p(f()),I=Object(o.b)(C)(d()),P=n(108),T=n.n(P);function D(){var e=Object(l.a)(["\n    background-image: radial-gradient(circle, rgba(63, 94, 251, 1) 0%, rgba(28, 68, 131, 1) 100%);\n"]);return D=function(){return e},e}var L=o.b.div(D()),F=function(e){return a.a.createElement(L,null,e.children)},N=n(439),q=n(66),U=n(440),V=function(e){var t=e.placeholder,n=e.label,r=e.type,i=void 0===r?"string":r,c=e.required,l=void 0===c||c,o=e.disabled,u=void 0!==o&&o,s=Object(q.a)(e,["placeholder","label","type","required","disabled"]);return a.a.createElement(N.a.Item,null,s.form.getFieldDecorator(s.id,{initialValue:s.initialValue,rules:[{required:l,message:s.message}]})(a.a.createElement(U.a,{type:i,placeholder:t||n,disabled:u,addonAfter:s.addonAfter})))},A=n(29);function R(){var e=Object(l.a)(["\n    width: 100%;\n    margin: 0.5rem 0;\n    background-color: #0066cc;\n"]);return R=function(){return e},e}function z(){var e=Object(l.a)(["\n    width: 100%;\n    margin: 0.5rem 0;\n"]);return z=function(){return e},e}var J=Object(o.b)(N.a.Item)(z()),M=Object(o.b)(A.a)(R()),W=function(e){var t=e.value,n=Object(q.a)(e,["value"]);return r.createElement(J,null,r.createElement(M,Object.assign({type:"primary",htmlType:"submit"},n),t))},G="http://35.240.73.34",B=n(75),H=n(33),_=n(34);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(B.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE"}),X=function(){function e(t,n,r){Object(H.a)(this,e),this.apiBase=t,this.fetch=n,this.storageService=new r}return Object(_.a)(e,[{key:"GET",value:function(e){return this.makeRequest(Q.GET,e,void 0)}},{key:"POST",value:function(e,t){return this.makeRequest(Q.POST,e,t)}},{key:"PATCH",value:function(e,t){return this.makeRequest(Q.PATCH,e,t)}},{key:"makeRequest",value:function(e,t,n){var r=JSON.parse(this.storageService.getItem("currentUser")),a={method:e,headers:Y({"Content-Type":"application/json"},r&&{Authorization:"".concat(r.token)}),body:JSON.stringify(n)},i="".concat(this.apiBase,"/").concat(t);return fetch(i,a)}},{key:"makeRequestForm",value:function(e,t,n){var r=new FormData;Object.keys(n).forEach((function(e){return r.append(e,n[e])}));var a=JSON.parse(this.storageService.getItem("currentUser")),i={method:e,headers:Y({},a&&{Authorization:"".concat(a.token)}),body:r},c="".concat(this.apiBase,"/").concat(t);return fetch(c,i)}}]),e}(),Z=n(438);var $,ee=function(e){return e.text().then((function(t){var n=t&&JSON.parse(t);return e.ok?n:(-1!==[401,403].indexOf(e.status)&&(ue.logout(),window.location.reload()),Promise.reject(n))}))},te=new Z.a(JSON.parse(localStorage.getItem("currentUser"))),ne=function(){function e(t,n){var r=this;Object(H.a)(this,e),this.logout=function(){r.storageService.removeItem("currentUser"),te.next(null)},this.httpService=t,this.storageService=new n}return Object(_.a)(e,[{key:"currentUserValue",value:function(){return te.value}},{key:"login",value:function(e,t){var n=this;return this.httpService.POST("login",{email:e,password:t}).then(ee).then((function(e){return n.storageService.setItem("currentUser",JSON.stringify(e)),te.next(e),e}))}},{key:"verifyToken",value:function(e){return this.httpService.POST("verify-token",e)}},{key:"refreshToken",value:function(e){return this.httpService.PATCH("refresh-token",e)}},{key:"registerUser",value:function(e,t,n,r){return this.httpService.POST("register/user",{firstName:e,lastName:t,email:n,password:r}).then(ee)}}]),e}(),re=function(){function e(t){Object(H.a)(this,e),this.history=t}return Object(_.a)(e,[{key:"push",value:function(e){this.history.push(e)}}]),e}(),ae=n(32),ie=Object(ae.a)(),ce=function(){function e(){Object(H.a)(this,e)}return Object(_.a)(e,[{key:"getItem",value:function(e){try{return localStorage.getItem(e)}catch(t){return t}}},{key:"setItem",value:function(e,t){localStorage.setItem(e,t)}},{key:"removeItem",value:function(e){localStorage.removeItem(e)}}]),e}(),le=new X(G,fetch,ce),oe=new re(ie),ue=new ne(le,ce),se=($=le,{getCoursesMeta:function(){return $.GET("courses/all/meta").then(ee)},getCourseDetails:function(e){return $.GET("course/".concat(e)).then(ee)},postCourse:function(e){return $.makeRequestForm(Q.POST,"course/create",e).then(ee)},addWordToCourse:function(e){$.makeRequestForm(Q.POST,"course/task/add",e).then(ee)}}),me=n(442),de={Success:"success",Info:"info",Warning:"warning",Error:"error"},fe="Something went wrong",pe=function(e){var t=e.message,n=e.description,r=e.type,a=void 0===r?de.Error:r;me.a[a]({message:t,description:n,duration:3})},be=N.a.create()((function(e){var t=e.form;return r.createElement(x,null,r.createElement(N.a,{onSubmit:function(e){e.preventDefault(),t.validateFields((function(e,t){var n=t.email,r=t.password;e||ue.login(n,r).then((function(e){return oe.push("/courses"),e})).catch((function(e){return e.detail?pe({type:Notification.Success,message:e.detail}):pe({type:Notification.Warning,message:fe})}))}))}},r.createElement(k,null,"Learn.IT"),r.createElement(V,{id:"email",form:t,placeholder:"Email",message:"Email is required",type:"email"}),r.createElement(V,{id:"password",type:"password",form:t,placeholder:"Password"}),r.createElement(W,{value:"Sign in",type:"primary",htmlType:"submit",size:"large"}),r.createElement(C,null,"Don't have an account?"),r.createElement(I,{onClick:function(){return oe.push("/register")}},"Join Learn.IT")))})),he=function(){return ue.currentUserValue()&&oe.push("/courses"),a.a.createElement(F,null,a.a.createElement(S,null,a.a.createElement(j,null,a.a.createElement(y,{src:T.a})),a.a.createElement(be,null)))},ge=N.a.create()((function(e){var t=e.form;return r.createElement(x,null,r.createElement(N.a,{onSubmit:function(e){e.preventDefault(),t.validateFields((function(e,t){var n=t.firstName,r=t.lastName,a=t.email,i=t.password;e||ue.registerUser(n,r,a,i).then((function(e){return pe({type:de.Success,message:"Account has been created."}),oe.push("/"),e})).catch((function(e){return console.log(e)}))}))}},r.createElement(k,null,"Learn.IT"),r.createElement(V,{id:"email",form:t,placeholder:"Email",message:"Email is required",type:"email"}),r.createElement(V,{id:"password",type:"password",form:t,placeholder:"Password"}),r.createElement(V,{id:"firstName",form:t,placeholder:"First Name",message:"First name is required",type:"text"}),r.createElement(V,{id:"lastName",form:t,placeholder:"Last name",message:"Last name is required",type:"text"}),r.createElement(W,{value:"Sign up",type:"primary",htmlType:"submit",size:"large"}),r.createElement(C,null,"Already have an account?"),r.createElement(I,{onClick:function(){return oe.push("/")}},"Login to Learn.IT")))})),ve=function(){return ue.currentUserValue()&&oe.push("/courses"),a.a.createElement(F,null,a.a.createElement(S,null,a.a.createElement(j,null,a.a.createElement(y,{src:T.a})),a.a.createElement(ge,null)))},Ee=n(47),Oe=n(437),ye=n(64);function je(){var e=Object(l.a)(["\n    box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.15);\n    margin-bottom: 15px;\n"]);return je=function(){return e},e}var we=Oe.a.Meta,Se=Object(o.b)(Oe.a)(je()),xe=function(e){var t=e.courseId,n=e.image,r=e.title,i=e.description,c="/course/"+t;return a.a.createElement(ye.a,{to:c},a.a.createElement(Se,{hoverable:!0,style:{width:240},cover:a.a.createElement("img",{style:{height:180},alt:"example",src:n})},a.a.createElement(we,{title:r,description:i})))},ke=n(157);function Ce(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: right;\n    flex-wrap: wrap;\n    padding: 0rem 1rem;\n    margin: auto;\n    max-width: 1200px;\n"]);return Ce=function(){return e},e}function Ie(){var e=Object(l.a)(["\n    display: none;\n\n    @media only screen and (min-width: 576px) {\n        display: flex;\n        align-items: center;\n    }\n"]);return Ie=function(){return e},e}function Pe(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n    padding: 1.5rem 1rem;\n    margin-bottom: 2rem;\n    margin: auto;\n    max-width: 1200px;\n"]);return Pe=function(){return e},e}var Te=o.b.div(Pe()),De=o.b.div(Ie()),Le=o.b.p(Ce()),Fe=function(){var e=new ce,t=JSON.parse(e.getItem("currentUser"));return t||oe.push("/"),a.a.createElement(a.a.Fragment,null,a.a.createElement(Te,null,a.a.createElement(ye.a,{to:"/"},a.a.createElement("h1",null,"Learn.IT")),a.a.createElement(De,null,a.a.createElement(ke.a,{mode:"horizontal",selectable:!1},a.a.createElement(ke.a.Item,{onClick:function(){return oe.push("/")}},"Courses"),a.a.createElement(ke.a.Item,{onClick:function(){return oe.push("/settings")}},"Settings"),a.a.createElement(ke.a.Item,{onClick:ue.logout},a.a.createElement(ye.a,{to:"/"},"Log out"))))),a.a.createElement(Le,null,"You are logged as",a.a.createElement("strong",null,"\xa0",t&&t.firstName," ",t&&t.lastName)))};function Ne(){var e=Object(l.a)(["\n    margin: 2rem auto;\n    padding: 0 1rem;\n    max-width: 1200px;\n"]);return Ne=function(){return e},e}var qe=o.b.div(Ne()),Ue=function(e){return a.a.createElement(qe,null,e.children)};function Ve(){var e=Object(l.a)(["\n    margin-left: auto;\n    margin-right: auto;\n"]);return Ve=function(){return e},e}var Ae=o.b.div(Ve()),Re=function(e){return a.a.createElement(Ae,null,e.children)},ze=n(441),Je=n(7),Me=n(87),We=Me.a.Option,Ge=function(e){return a.a.createElement(N.a.Item,null,e.form.getFieldDecorator(e.id,{initialValue:e.initialValue,rules:[{required:!0,message:e.message}]})(a.a.createElement(Me.a,{initialValue:e.initialValue},e.options.map((function(e){var t=e.value,n=e.name;return a.a.createElement(We,{key:n,value:t},n)})))))},Be=n(68),He=n(436),_e=function(e){var t=e.onSuccess;setTimeout((function(){t("ok")}),0)},Ke=function(e){return r.createElement(N.a.Item,null,e.form.getFieldDecorator(e.id,{initialValue:e.initialValue,rules:[{required:!0,message:e.message}]})(r.createElement(He.a,{onChange:function(t){var n=Object(Be.a)(t.fileList);n=n.slice(-1),e.setCurrentList(n)},listType:"image",multiple:!1,fileList:e.fileList,customRequest:_e},r.createElement(A.a,null,r.createElement(Je.a,{type:"upload"})," Upload course's image"))))},Ye=N.a.create()((function(e){var t=e.visible,n=e.onCancel,r=e.onCreate,i=e.fileList,c=e.setCurrentList,l=e.form;return a.a.createElement(ze.a,{title:"Create new course",visible:t,onOk:r,onCancel:n},a.a.createElement(N.a,null,a.a.createElement(V,{id:"name",form:l,label:"Course Name",initialValue:""}),a.a.createElement(V,{id:"description",form:l,label:"Description",initialValue:""}),a.a.createElement(Ge,{initialValue:"normal",options:[{name:"Normal",value:"normal"},{name:"Puzzle",value:"puzzle"}],form:l,id:"type"}),a.a.createElement(Ke,{listType:"image",multiple:!1,fileList:i,setCurrentList:c,form:l,id:"image"},a.a.createElement(A.a,null,a.a.createElement(Je.a,{type:"upload"})," Upload course's image"))))}));function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(){var e=Object(l.a)(["\n    margin-bottom: 20px;\n"]);return Xe=function(){return e},e}var Ze=o.b.div(Xe()),$e=function(e){var t=e.setCourses,n=Object(r.useState)(!1),i=Object(Ee.a)(n,2),c=i[0],l=i[1],o=Object(r.useState)(null),u=Object(Ee.a)(o,2),s=u[0],m=u[1],d=Object(r.useState)([]),f=Object(Ee.a)(d,2),p=f[0],b=f[1],h=function(){s.validateFields((function(e,n){if(!e){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Object(B.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{image:n.image.file.originFileObj});se.postCourse(r).then((function(){pe({type:de.Success,message:"Course has been added."})})).catch((function(){pe({type:de.Success,message:"Word has been added."})})).then((function(){se.getCoursesMeta().then(t)})),s.resetFields(),l(!1)}}))},g=Object(r.useCallback)((function(e){null!==e&&m(e)}),[]);return a.a.createElement(Ze,null,a.a.createElement(W,{type:"primary",onClick:function(){return l(!0)},value:"Create new course"}),a.a.createElement(Ye,{ref:g,visible:c,onCancel:function(){return l(!1)},onCreate:function(){return h()},fileList:p,setCurrentList:b}))};function et(){var e=Object(l.a)(["\n    margin: 5px;\n    min-width: 240px;\n    max-width: 240px;\n    flex: 1;\n"]);return et=function(){return e},e}function tt(){var e=Object(l.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-evenly;\n"]);return tt=function(){return e},e}var nt=o.b.div(tt()),rt=o.b.div(et()),at=function(){var e=Object(r.useState)([]),t=Object(Ee.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){se.getCoursesMeta().then(i)}),[]),a.a.createElement(Re,null,a.a.createElement(Fe,null),a.a.createElement(Ue,null,a.a.createElement($e,{setCourses:i}),a.a.createElement("h2",null,"All available courses"),a.a.createElement(nt,null,n.map((function(e){var t=e.id,n=e.name,r=e.description,i=e.image;return a.a.createElement(xe,{key:t,courseId:t,title:n,description:r,image:G+i})})),Array(4).fill(4).map((function(){return a.a.createElement(rt,{key:Number(Math.random())})})))))},it=N.a.create()((function(e){var t=e.form,n=ue.currentUserValue(),r=function(e){e.preventDefault(),t.validateFields((function(e,t){t.email,t.password;e||console.log("validate")}))};return a.a.createElement(N.a,{onSubmit:r},a.a.createElement(V,{id:"email",form:t,label:"E-mail",initialValue:n.email}),a.a.createElement(V,{id:"firstName",form:t,label:"First Name",initialValue:n.firstName}),a.a.createElement(V,{id:"lastName",form:t,label:"Last Name",initialValue:n.lastName}),a.a.createElement(W,{value:"Submit changes",type:"primary",htmlType:"submit",size:"large",onClick:r}))}));function ct(){var e=Object(l.a)(["\n    background-image: radial-gradient(circle, rgba(63, 94, 251, 1) 0%, rgba(28, 68, 131, 1) 100%);\n    color: white;\n    position: fixed;\n    left: 0;\n    bottom: -20px;\n    right: 0;\n"]);return ct=function(){return e},e}var lt=m.a.Footer,ot=(Object(o.b)(lt)(ct()),function(){return a.a.createElement(Re,null,a.a.createElement(Fe,null),a.a.createElement(Ue,null,a.a.createElement(it,null)))}),ut=n(156),st=n.n(ut),mt=n(211),dt=n(213),ft=n(88),pt=n(86),bt=n(89),ht=n(434),gt=n(435),vt=N.a.create({name:"form_in_modal"})(function(e){function t(){var e,n;Object(H.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(ft.a)(this,(e=Object(pt.a)(t)).call.apply(e,[this].concat(a)))).state={fileList:[]},n.setCurrentfileList=function(e){return n.setState({fileList:e}),e},n}return Object(bt.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.onCancel,r=e.onCreate,i=e.form,c=i.getFieldDecorator;return a.a.createElement(ze.a,{visible:t,title:"Add new word",okText:"Add new word",onCancel:n,onOk:r},a.a.createElement(N.a,{layout:"vertical"},a.a.createElement(N.a.Item,{label:"Word"},c("word",{rules:[{required:!0,message:"Please input the title of collection!"}]})(a.a.createElement(U.a,null))),a.a.createElement(N.a.Item,{label:"Translation"},c("translation",{rules:[{required:!0,message:"Please input the title of collection!"}]})(a.a.createElement(U.a,null))),a.a.createElement(Ke,{listType:"image",multiple:!1,fileList:this.fileList,setCurrentList:this.setCurrentfileList,form:i,id:"image"},a.a.createElement(A.a,null,a.a.createElement(Je.a,{type:"upload"})," Upload image for word"))))}}]),t}(a.a.Component));function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){Object(B.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt=a.a.createContext(),jt=N.a.create()((function(e){var t=e.form,n=(e.index,Object(q.a)(e,["form","index"]));return a.a.createElement(yt.Provider,{value:t},a.a.createElement("tr",n))})),wt=function(e){function t(){var e,n;Object(H.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(ft.a)(this,(e=Object(pt.a)(t)).call.apply(e,[this].concat(i)))).state={editing:!1},n.toggleEdit=function(){var e=!n.state.editing;n.setState({editing:e},(function(){e&&n.input.focus()}))},n.save=function(e){var t=n.props,r=t.record,a=t.handleSave;n.form.validateFields((function(t,i){t&&t[e.currentTarget.id]||(n.toggleEdit(),a(Ot({},r,{},i)))}))},n.renderCell=function(e){n.form=e;var t=n.props,r=t.children,i=t.dataIndex,c=t.record,l=t.title;return n.state.editing?a.a.createElement(N.a.Item,{style:{margin:0}},e.getFieldDecorator(i,{rules:[{required:!0,message:"".concat(l," is required.")}],initialValue:c[i]})(a.a.createElement(U.a,{ref:function(e){return n.input=e},onPressEnter:n.save,onBlur:n.save}))):a.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:n.toggleEdit},r)},n}return Object(bt.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props,t=e.editable,n=(e.dataIndex,e.title,e.record,e.index,e.handleSave,e.children),r=Object(q.a)(e,["editable","dataIndex","title","record","index","handleSave","children"]);return a.a.createElement("td",r,t?a.a.createElement(yt.Consumer,null,this.renderCell):n)}}]),t}(a.a.Component),St=function(e){function t(e){var n;Object(H.a)(this,t),(n=Object(ft.a)(this,Object(pt.a)(t).call(this,e))).showModal=function(){n.setState({visible:!0})},n.handleDelete=function(e){var t=Object(Be.a)(n.state.dataSource);n.setState({dataSource:t.filter((function(t){return t.key!==e}))})},n.handleCreate=function(){var e=n.formRef.props.form;e.validateFields((function(t,r){if(!t){var a={courseId:n.props.courseId,word:r.word,translate:r.translation,image:r.image.file.originFileObj};e.resetFields(),se.addWordToCourse(a);var i=n.state,c=i.count,l=i.dataSource,o={key:c,word:r.word,translation:r.translation,image:URL.createObjectURL(r.image.file.originFileObj)};n.setState({visible:!1}),n.setState({dataSource:[].concat(Object(Be.a)(l),[o]),count:c+1}),pe({type:de.Success,message:"Word has been added."})}}))},n.saveFormRef=function(e){n.formRef=e},n.handleCancel=function(){n.setState({visible:!1})},n.handleAdd=function(){var e=n.state,t=e.count,r=e.dataSource,a={key:t,name:"Edward King ".concat(t),age:32,address:"London, Park Lane no. ".concat(t)};n.setState({dataSource:[].concat(Object(Be.a)(r),[a]),count:t+1}),n.setState({visible:!0})},n.handleSave=function(e){var t=Object(Be.a)(n.state.dataSource),r=t.findIndex((function(t){return e.key===t.key})),a=t[r];t.splice(r,1,Ot({},a,{},e)),n.setState({dataSource:t})},n.columns=[{title:"word",dataIndex:"word",width:"30%",editable:!1},{title:"translation",dataIndex:"translation",editable:!1},{title:"image",dataIndex:"image",editable:!1,render:function(e,t){return a.a.createElement("img",{width:100,height:100,src:e})}},{title:"operation",dataIndex:"operation",render:function(e,t){return n.state.dataSource.length>=1?a.a.createElement(ht.a,{title:"Sure to delete?",onConfirm:function(){return n.handleDelete(t.key)}},a.a.createElement("a",null,"Delete")):null}}];var r=[];return e.courseDetails&&e.courseDetails[0]&&e.courseDetails[0].data&&(r=(r=e.courseDetails[0].data).map((function(e){var t=e.translate,n=e.word,r=e.image;return{key:e.id,word:n,translation:t,image:G+r}}))),n.state={dataSource:r,count:r.length,visible:!1},n}return Object(bt.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.state.dataSource,n={body:{row:jt,cell:wt}},r=this.columns.map((function(t){return t.editable?Ot({},t,{onCell:function(n){return{record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t}));return a.a.createElement("div",null,a.a.createElement(W,{type:"primary",onClick:this.showModal,value:"Add new word"}),a.a.createElement(vt,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}),a.a.createElement(gt.a,{components:n,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:r}))}}]),t}(a.a.Component);function xt(){var e=Object(l.a)(["\n    flex-direction: column;\n    justify-content: center;\n    display: flex;\n    min-height: 100vh;\n"]);return xt=function(){return e},e}var kt=o.b.div(xt()),Ct=[{path:"/",component:he},{path:"/register",component:ve},{path:"/courses",component:at,auth:!0},{path:"/settings",component:ot,auth:!0},{path:"/course/:courseId",component:function(e){var t=ue.currentUserValue(),n=Object(r.useState)(!1),i=Object(Ee.a)(n,2),c=i[0],l=i[1],o=Object(r.useState)(!1),u=Object(Ee.a)(o,2),s=u[0],m=u[1],d=Object(r.useState)([]),f=Object(Ee.a)(d,2),p=f[0],b=f[1],h=function(){var e=Object(mt.a)(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(p),console.log(t),l(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){m(!0),se.getCourseDetails(e.match.params.courseId).then(b).then((function(){return m(!1)})).catch((function(e){return oe.push("/")})),t&&h()}),[e.match.params.courseId]),a.a.createElement(a.a.Fragment,null,s?a.a.createElement(kt,null,a.a.createElement(dt.a,{size:"large"})):a.a.createElement(Re,null,a.a.createElement(Fe,null),a.a.createElement(Ue,null,a.a.createElement(Oe.a,{title:p[0]&&p[0].name,extra:t&&c?a.a.createElement("a",{href:"#"},"Edit"):a.a.createElement(a.a.Fragment,null)},a.a.createElement("img",{style:{height:180},alt:"example",src:p[0]&&G+p[0].image}),a.a.createElement("p",null,a.a.createElement("b",null,"Description:")," ",p[0]&&p[0].description),a.a.createElement("p",null,a.a.createElement("b",null,"Type:")," ",p[0]&&p[0].type)),a.a.createElement(St,{courseDetails:p,courseId:e.match.params.courseId}))))},auth:!0}],It=n(56),Pt=function(e){var t=e.path,n=e.component;return ue.currentUserValue()?r.createElement(It.b,{exact:!0,path:t,component:n}):r.createElement(It.a,{to:"/"})},Tt=function(){return a.a.createElement(It.c,{history:ie},a.a.createElement(It.d,null,Ct.map((function(e){return e.auth?a.a.createElement(Pt,{key:e.path,path:e.path,component:e.component}):a.a.createElement(It.b,{exact:!0,key:e.path,path:e.path,component:e.component})}))))},Dt=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(s,null),a.a.createElement(Tt,null))};c.a.render(a.a.createElement(Dt,null),document.getElementById("root"))}},[[221,1,2]]]);
//# sourceMappingURL=main.4903c35e.chunk.js.map